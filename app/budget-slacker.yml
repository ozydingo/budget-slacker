imports:
- path: deploy_function.py
- path: src/budgets.js
- path: src/index.js
- path: src/package.json
- path: src/sheets.js
- path: src/slack.js
- path: src/spend.js

resources:
- name: function
  type: deploy_function.py
  properties:
    # All the files that start with this prefix will be packed in the Cloud Function
    codeLocation: src/
    codeBucket: budget-slacker-deploy
    codeBucketObject: function.zip
    location: us-east1
    timeout: 60s
    runtime: nodejs8
    availableMemoryMb: 256
    entryPoint: main
outputs:
- name: function-url
  value: $(ref.function.url)
- name: function-name
  value: $(ref.function.name)
