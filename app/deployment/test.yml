imports:
- path: cloud_function.py
- path: private_function_policy.jinja
- path: ../get_team_info/index.js
- path: ../get_team_info/package.json
- path: ../get_totals/index.js
- path: ../get_totals/package.json
resources:
- name: get-team-info
  type: cloud_function.py
  properties:
    codeLocation: ../get_team_info
    codeBucket: budget-slacker-deploy
    codeBucketObject: get_team_info.zip
    location: us-east1
    timeout: 60s
    runtime: nodejs8
    availableMemoryMb: 256
    entryPoint: main
    trigger:
      httpsTrigger: {}
- name: get-team-info-policy
  type: private_function_policy.jinja
  properties:
    function: $(ref.get-team-info.name)
- name: get-totals
  type: cloud_function.py
  properties:
    codeLocation: ../get_totals
    codeBucket: budget-slacker-deploy
    codeBucketObject: get_totals.zip
    location: us-east1
    timeout: 60s
    runtime: nodejs8
    availableMemoryMb: 256
    entryPoint: main
    trigger:
      httpsTrigger: {}
- name: get-totals-policy
  type: private_function_policy.jinja
  properties:
    function: $(ref.get-totals.name)
outputs:
- name: get-team-info-name
  value: $(ref.get-team-info.name)
- name: get-team-info-url
  value: $(ref.get-team-info.url)
